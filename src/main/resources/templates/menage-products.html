<!doctype html>
<html lang="en">
<head th:replace="~{/fragments/head}"></head>
<body>
<header th:replace="~{fragments/navbar}"></header>

<table class="table mt-5">
    <thead>
    <tr class="text-light text-center fs-2">
        <th scope="col" class="pb-5">Manufacturer</th>
        <th scope="col" class="pb-5">Model</th>
        <th scope="col" class="pb-5">Image</th>
        <th scope="col" class="pe-5 pb-5">Action</th>
    </tr>
    </thead>
    <tbody>
    <tr class="col-12 col-xl-4 col-lg-4 col-md-6 col-sm-6 mt-5 text-light fs-4" th:each="product : ${products.getContent()}">
        <td th:text="${product.manufacturer.name()}"  class="pt-5 col-12 col-xl-3 col-lg-4 col-md-6 col-sm-6 mt-5 text-light text-center"></td>
        <td th:text="${product.model}" class="pt-5 col-12 col-xl-4 col-lg-4 col-md-6 col-sm-6 mt-5 text-light text-center text-uppercase"></td>
        <td class=" col-12 xl-4 col-lg-4 col-md-6 col-sm-6 mt-5  ps-5 text-light text-center"> <img alt="image" th:src="@{'data:image/jpeg;base64,'+${product.generateBase64Image()}}" height="150px"  ></td>
        <td class="col-12 col-xl-4 col-lg-4 col-md-6 col-sm-6 mt-5 pe-5 pt-5 text-light text-center">
            <form
                th:action="@{/admin/delete-product/{uuid}(uuid = ${product.uuid})}"
                th:method="DELETE"
                class="btn-lg borderGlow">
            <input type="submit" value="Delete" class="btn text-light">
        </form></td>
    </tr>
    </tbody>
</table>

<div class="container mt-5">
    <nav aria-label="Page navigation">
        <ul class="pagination">

            <!-- First page logic start -->
            <li class="page-item" th:classappend="${products.isFirst() ? 'disabled' : ''}">
                <a th:if="${products.isFirst()}" class="page-link" href="#" aria-label="Fisrt"><span aria-hidden="true">&laquo;</span></a>
                <a th:unless="${products.isFirst()}" class="page-link" th:href="@{/admin/menage-products(size=${products.getSize()})}" aria-label="Fisrt"><span aria-hidden="true">&laquo;</span></a>
            </li>
            <!-- EO: First page logic start -->


            <!-- Last page logic start -->
            <li class="page-item" th:classappend="${products.isLast() ? 'disabled' : ''}">
                <a th:if="${products.isLast()}" class="page-link" href="#" aria-label="Last"><span aria-hidden="true">&raquo;</span></a>
                <a th:unless="${products.isLast()}" class="page-link" th:href="@{/admin/menage-products(size=${products.getSize()}, page=${products.getTotalPages() - 1})}" aria-label="Last"><span aria-hidden="true">&raquo;</span></a>
            </li>
            <!-- EO: Last page logic start -->
        </ul>
    </nav>
</div>

</body>
</html>